{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Web project\\\\frontend\\\\src\\\\pages\\\\HireBooking.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nconst BookingForm = () => {\n  const [seatsBooked, setSeatsBooked] = useState('');\n  const [message, setMessage] = useState('');\n  const {\n    hireId\n  } = useParams(); // Get hireId from URL parameters\n\n  const handleBooking = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token'); // Assuming the JWT token is stored in localStorage\n\n      const response = await axios.post(`/api/bookings/${hireId}`,\n      // Correct API endpoint\n      {\n        seatsBooked\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMessage(response.data.message);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error creating booking');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"Book Your Seats\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleBooking,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"seatsBooked\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, \"Seats to Book:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    id: \"seatsBooked\",\n    value: seatsBooked,\n    onChange: e => setSeatsBooked(e.target.value),\n    required: true,\n    min: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Book Now\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }\n  }, message));\n};\nexport default BookingForm;","map":{"version":3,"names":["React","useState","axios","useParams","BookingForm","seatsBooked","setSeatsBooked","message","setMessage","hireId","handleBooking","e","preventDefault","token","localStorage","getItem","response","post","headers","Authorization","data","error","_error$response","_error$response$data","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","value","onChange","target","required","min"],"sources":["C:/Users/User/Desktop/Web project/frontend/src/pages/HireBooking.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst BookingForm = () => {\r\n  const [seatsBooked, setSeatsBooked] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const { hireId } = useParams(); // Get hireId from URL parameters\r\n\r\n  const handleBooking = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const token = localStorage.getItem('token'); // Assuming the JWT token is stored in localStorage\r\n\r\n      const response = await axios.post(\r\n        `/api/bookings/${hireId}`, // Correct API endpoint\r\n        { seatsBooked },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n\r\n      setMessage(response.data.message);\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Error creating booking');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Book Your Seats</h2>\r\n      <form onSubmit={handleBooking}>\r\n        <div>\r\n          <label htmlFor=\"seatsBooked\">Seats to Book:</label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"seatsBooked\"\r\n            value={seatsBooked}\r\n            onChange={(e) => setSeatsBooked(e.target.value)}\r\n            required\r\n            min=\"1\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Book Now</button>\r\n      </form>\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}